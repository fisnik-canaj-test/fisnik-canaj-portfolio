import './polyfills.server.mjs';
import{a as V}from"./chunk-LQ4YMT6V.mjs";import{$a as r,Ea as p,Eb as g,Gb as P,Ka as T,P as S,U as E,Ua as j,V as D,Va as x,Wa as F,Xa as d,Ya as m,Za as y,_a as l,ab as M,bb as h,ca as k,cb as f,ec as u,fb as w,hb as N,ib as v,jb as s,mc as $,nb as b,pb as a,qb as A,tb as I,ua as o,ub as L,vb as O}from"./chunk-D6X7A5GT.mjs";import"./chunk-N7QBYMCK.mjs";function G(n,t){if(n&1){let e=w();h(0,"button",1),v("click",function(){let c=E(e).$implicit,_=s();return D(_.choose(c))}),a(1),f()}if(n&2){let e=t.$implicit,i=s();b("chip--active",i.selected()===e),o(),A(e)}}var C=class n{filters=P([]);selected=P("All");filterChange=new T;choose(t){t!==this.selected()&&this.filterChange.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-projects-filter"]],inputs:{filters:[1,"filters"],selected:[1,"selected"]},outputs:{filterChange:"filterChange"},decls:5,vars:2,consts:[[1,"flex","flex-wrap","gap-2"],["type","button",1,"chip",3,"click"],["type","button",1,"chip",3,"chip--active"]],template:function(e,i){e&1&&(h(0,"div",0)(1,"button",1),v("click",function(){return i.choose("All")}),a(2,"All"),f(),d(3,G,2,3,"button",2,F),f()),e&2&&(o(),b("chip--active",i.selected()==="All"),o(2),m(i.filters()))},dependencies:[u],encapsulation:2,changeDetection:0})};var H=(n,t)=>t.name;function J(n,t){if(n&1&&M(0,"app-project-card",8),n&2){let e=t.$implicit;y("project",e)}}function K(n,t){if(n&1&&(l(0,"div",7),d(1,J,1,1,"app-project-card",8,H),r()),n&2){s();let e=O(0);o(),m(e)}}function Q(n,t){n&1&&(l(0,"p",6),a(1,"No projects match this filter just yet."),r())}function R(n,t){if(n&1&&(I(0),j(1,K,3,0,"div",7)(2,Q,2,0,"p",6)),n&2){let e=L(s().filtered());o(),x(e.length?1:2)}}function U(n,t){n&1&&(l(0,"p",6),a(1,"Loading projects\u2026"),r())}var B=class n{dataService=S($);profile=this.dataService.profile;tag=k("All");loading=this.dataService.loading;all=g(()=>this.profile().projects);tags=g(()=>{let t=this.all(),e=new Set;for(let i of t)for(let c of i.tags??[])e.add(c);return Array.from(e).sort((i,c)=>i.localeCompare(c))});setTag(t){this.tag.set(t)}filtered=g(()=>{let t=this.all(),e=this.tag();return e==="All"?t:t.filter(i=>(i.tags||[]).includes(e))});async ngOnInit(){await this.dataService.load()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-projects"]],decls:11,vars:3,consts:[[1,"space-y-8"],[1,"space-y-2"],[1,"text-xs","uppercase","tracking-[0.3em]","text-brand-500","dark:text-brand-300"],[1,"text-3xl","font-bold","text-slate-900","dark:text-text-primary","dark:border-white/15","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","pb-8"],[3,"filterChange","filters","selected"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"grid","gap-6","md:grid-cols-2","xl:grid-cols-3"],[3,"project"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"header",1)(2,"p",2),a(3,"Projects"),r(),l(4,"h1",3),a(5,"Selected collaborations"),r(),l(6,"p",4),a(7," Filter by capability to explore client work and product experiments. "),r()(),l(8,"app-projects-filter",5),N("filterChange",function(_){return i.setTag(_)}),r(),j(9,R,3,2)(10,U,2,0,"p",6),r()),e&2&&(o(8),y("filters",i.tags())("selected",i.tag()),o(),x(i.loading()?10:9))},dependencies:[u,C,V],encapsulation:2,changeDetection:0})};export{B as ProjectsComponent};
